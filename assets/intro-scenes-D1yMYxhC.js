import{T as c}from"./utils-Dr_9jVf5.js";class r extends Phaser.Scene{constructor(){super({key:"IntroScene"})}preload(){this.load.image("2001-logo","assets/final/ui/2001.png"),this.load.audio("title-music","assets/final/audio/01.mp3"),this.load.on("filecomplete-image-2001-logo",()=>{console.log("2001 logo loaded successfully")}),this.load.on("filecomplete-audio-title-music",()=>{console.log("Title music loaded successfully")}),this.load.on("loaderror",e=>{e.key==="2001-logo"?console.log("2001 logo image not found, continuing without image"):e.key==="title-music"&&console.log("Title music not found, continuing without music")})}create(){const{width:e,height:t}=this.cameras.main;this.cameras.main.setBackgroundColor("#000000"),this.logo=this.add.image(e/2,t/2,"2001-logo");const i=e/this.logo.width,s=t/this.logo.height,o=Math.min(i,s);this.logo.setScale(o),this.logo.setOrigin(.5,.5),this.logo.setAlpha(0);try{this.titleMusic=this.sound.add("title-music",{loop:!0,volume:1}),console.log("Title music initialized in IntroScene with high volume")}catch(n){console.log("Audio initialization failed in IntroScene:",n),this.titleMusic=null}this.startIntro()}startIntro(){this.tweens.add({targets:this.logo,alpha:1,duration:2e3,ease:"Power2"}),this.input.on("pointerdown",()=>{this.advanceToTitle()}),this.input.keyboard.on("keydown",()=>{this.advanceToTitle()})}advanceToTitle(){if(this.titleMusic)try{this.titleMusic.play(),console.log("Title music started playing from IntroScene"),this.titleMusic.on("play",()=>{console.log("Title music is now playing from IntroScene")}),this.titleMusic.on("pause",()=>{console.log("Title music paused from IntroScene")}),this.titleMusic.on("stop",()=>{console.log("Title music stopped from IntroScene")})}catch(e){console.log("Audio play failed in IntroScene:",e)}else console.log("No audio available in IntroScene");this.tweens.add({targets:this.logo,alpha:0,duration:1500,ease:"Power2",onComplete:()=>{window.sceneManager?window.sceneManager.startScene("TitleScene",{titleMusic:this.titleMusic}):console.error("SceneManager not available")}})}shutdown(){this.titleMusic&&this.titleMusic.isPlaying&&(this.titleMusic.stop(),console.log("IntroScene: Music stopped on shutdown"))}resize(e,t){if(console.log(`IntroScene resizing to: ${e}x${t}`),this.cameras.main.setViewport(0,0,e,t),this.logo){const i=e/this.logo.width,s=t/this.logo.height,o=Math.min(i,s);this.logo.setScale(o),this.logo.setPosition(e/2,t/2)}}}const g=Object.freeze(Object.defineProperty({__proto__:null,default:r},Symbol.toStringTag,{value:"Module"}));class h extends Phaser.Scene{constructor(e){super({key:e}),this.textDisplay=null,this.music=null,this.image=null}advanceToNextScene(){this.textDisplay&&(this.textDisplay.completeTypewriter(),this.textDisplay.hide(!1)),this.image&&this.tweens.add({targets:this.image,alpha:0,duration:1500,ease:"Power2",onComplete:()=>{if(window.sceneManager){const e=window.sceneManager.getNextSceneKey(this.scene.key);e&&window.sceneManager.startScene(e,{music:this.music})}else console.error("SceneManager not available")}})}jumpToScene(e){this.textDisplay&&(this.textDisplay.completeTypewriter(),this.textDisplay.hide(!1)),this.image&&this.tweens.add({targets:this.image,alpha:0,duration:1500,ease:"Power2",onComplete:()=>{window.sceneManager?window.sceneManager.startScene(e,{music:this.music}):console.error("SceneManager not available")}})}setupClickToAdvance(){this.input.on("pointerdown",()=>{this.advanceToNextScene()}),this.input.keyboard.on("keydown",()=>{this.advanceToNextScene()})}cleanupScene(){this.image&&this.image.destroy(),this.textDisplay&&this.textDisplay.destroy()}}class u extends h{constructor(){super("TitleScene")}preload(){this.load.image("crescent-moon","assets/final/ui/crescent-moon2.png"),this.load.audio("title-music","assets/final/audio/01.mp3"),this.load.on("filecomplete-audio-title-music",()=>{console.log("Title music loaded successfully")}),this.load.on("loaderror",e=>{e.key==="title-music"&&console.log("Audio file not found, continuing without music")})}create(e){const{width:t,height:i}=this.cameras.main;this.cameras.main.setBackgroundColor("#000000"),this.crescentMoon=this.add.image(t/2,i/2,"crescent-moon");const s=t/this.crescentMoon.width,o=i/this.crescentMoon.height,n=Math.max(s,o);if(this.crescentMoon.setScale(n),this.crescentMoon.setOrigin(.5,.5),this.crescentMoon.setAlpha(0),this.image=this.crescentMoon,this.textDisplay=new c(this),this.creditTextDisplay=new c(this),e&&e.titleMusic)this.titleMusic=e.titleMusic,console.log("Using music from IntroScene");else try{this.titleMusic=this.sound.add("title-music",{loop:!0,volume:1}),console.log("Title music initialized in TitleScene with high volume")}catch(a){console.log("Audio initialization failed:",a),this.titleMusic=null}this.startExperience()}startExperience(){const{width:e,height:t}=this.cameras.main;if(this.titleMusic&&!this.titleMusic.isPlaying)try{this.titleMusic.play(),console.log("Title music started playing in TitleScene"),this.titleMusic.on("play",()=>{console.log("Title music is now playing in TitleScene")}),this.titleMusic.on("pause",()=>{console.log("Title music paused in TitleScene")}),this.titleMusic.on("stop",()=>{console.log("Title music stopped in TitleScene")})}catch(i){console.log("Audio play failed in TitleScene:",i)}else this.titleMusic&&this.titleMusic.isPlaying?console.log("Title music already playing from IntroScene"):console.log("No audio available in TitleScene");this.time.delayedCall(500,()=>{this.tweens.add({targets:this.crescentMoon,alpha:1,duration:3e3,ease:"Power2"}),this.time.delayedCall(1e3,()=>{console.log("Showing title text..."),this.textDisplay.showPreset("2001: A Space Odyssey","title",{x:e/2,y:t*.3-48*1.5,onComplete:()=>{console.log("Title typewriter complete, showing credit text..."),this.creditTextDisplay.showPreset(`created by
Arthur C. Clarke & Stanley Kubrick`,"caption",{x:e/2,y:t*.7+100,fontSize:"30px"}),console.log("Credit text display created:",this.creditTextDisplay.textObject)}}),console.log("Title text display created:",this.textDisplay.textObject)})}),this.setupClickToAdvance()}advanceToNextScene(){this.textDisplay&&(this.textDisplay.completeTypewriter(),this.textDisplay.hide(!1)),this.creditTextDisplay&&(this.creditTextDisplay.completeTypewriter(),this.creditTextDisplay.hide(!1)),this.image?this.tweens.add({targets:this.image,alpha:0,duration:1500,ease:"Power2",onComplete:()=>{window.sceneManager?window.sceneManager.startScene("Scene001",{music:this.titleMusic}):console.error("SceneManager not available")}}):window.sceneManager?window.sceneManager.startScene("Scene001",{music:this.titleMusic}):console.error("SceneManager not available")}shutdown(){this.titleMusic&&this.titleMusic.isPlaying&&(this.titleMusic.stop(),console.log("TitleScene: Music stopped on shutdown")),this.cleanupScene()}resize(e,t){if(console.log(`TitleScene resizing to: ${e}x${t}`),this.cameras.main.setViewport(0,0,e,t),this.crescentMoon){const i=e/this.crescentMoon.width,s=t/this.crescentMoon.height,o=Math.max(i,s);this.crescentMoon.setScale(o),this.crescentMoon.setPosition(e/2,t/2)}}}const p=Object.freeze(Object.defineProperty({__proto__:null,default:u},Symbol.toStringTag,{value:"Module"}));export{h as B,g as I,p as T};
